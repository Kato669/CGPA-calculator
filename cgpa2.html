<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Demo CGPA calculator</title>
<meta name="generator" content="Bluefish 2.2.7" >
<!--<meta name="author " content="Ajeh Emeke" >-->
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8">
<meta http-equiv="content-style-type" content="text/css">
<meta http-equiv="expires" content="0">
<link href="" rel="stylesheet" type="text/css" />
<script src="" ></script>
<style>
 *{margin: 0; padding: 0; list-style: none; text-decoration: none;}
#header{
	width: 100%;
	min-width: 320px;
	background-color: rgb(47, 179, 255);
	position: fixed;
	top: 0;
	left: 0;
	box-shadow: 0 0 5px 3px grey;
}
#header span{
	position: absolute;
	bottom: 5px;
	right: 5px;
	clear: both;
}
#header h1{
	color: #FFC;
	
	float: left;
	text-shadow: 2px 2px grey;
	padding: 20px;
	text-align: center;
	
}

/*#cont{
	min-width: 400px;
	width: 100%;
	min-width: 320px;
	margin-right: 90px;
	margin-top: 30px;
	clear: both;
	margin-left: 20px;
	
}*/


	fieldset{
	width: 90%;
	max-width: 1300px;
	margin-top: 10px;
	padding: 10px 0;
	background-color: #FFC;
	
	height: 25px;
	margin-left: 50px;
	border-radius: 20px;
	
	}
	
	label{
		color: black;
		font-weight: bold;
		
	}
	/*form #radiobtn label{color: blue; width: 30%;margin-left: 3%; clear: none;}*/

form{

	background-color: brown;
	margin-right: 30px;
	margin-top: 30px;
	border-radius: 10px;
	border-color: yellow;
	padding: 10px 2%;
	color: purple;
	margin-left: 20px;
	box-shadow: 0 0 5px 3px grey;
}

#boxes input[type= "text"], #boxes input[type= "number"]{
	width: 160px;
	height: 100%;
	margin-left: 39px;
	text-align: center;
	color: blue;
	background-color: white;
	
	
}
form input[type= "submit"], [type= "reset"]{
	background-color: black;
	color: white;
	padding: 8px;
	font-size: 10px;
	
	border: 3px solid transparent;
	border-radius: 7px;
	width: 80px;
	
	
}
form input[type= "submit"]:hover, [type= "reset"]:hover{
	background-color: white;
	color: black;
	border: 3px solid black;
	border-radius: 7px;
}


@media screen and (max-width: 550px){
#cont{margin-top: 150px;}
}
@media screen and (max-width: 400px){
#cont{margin-top: 170px;}
}



</style>
</head>
<body>


<div id="cont">

	<form method="post" action="" onSubmit="return formsubmit();" id="courseform">


	<fieldset><label style="margin-left: 50px; ">How many courses did you offer? <input type="text" name="box" placeholder="Enter a number of courses" onkeyup="addbox(this.value)" list="lists" style="width: 200px; margin-left: 35px; text-align: center; height: 27px;"/></label></fieldset>
	<!--<datalist id="lists">
		<option value="1">
		<option value="2">
		<option value="3">
		<option value="4">
		<option value="5">
		<option value="6">
		<option value="7">
		<option value="8">
		<option value="9">
		<option value="10">
		<option value="11">
		<option value="12">
		<option value="13">
		<option value="14">
		<option value="15">
		<option value="16">
		<option value="17">
		<option value="18">
		<option value="19">
		<option value="20">
		<option value="21">
		<option value="22">
		<option value="23">
		<option value="24">
		<option value="25">
		<option value="26">
		<option value="27">
		<option value="28">
		<option value="29">
		<option value="30">
		<option value="31">
		<option value="32">
		<option value="33">
		<option value="34">
		<option value="35">
		<option value="36">
		<option value="37">
		<option value="38">
		<option value="39">
		<option value="40">
		<option value="41">
		<option value="42">
		<option value="43">
		<option value="44">
		<option value="45">
		<option value="46">
		<option value="47">
		<option value="48">
		<option value="49">
		<option value="50">
		<option value="51">
		<option value="52">
		<option value="53">
		<option value="54">
		<option value="55">
		<option value="56">
		<option value="57">
		<option value="58">
		<option value="59">
		<option value="60">
	</datalist>-->
	<legend id="boxes">
		<fieldset>
			<label><input type="text" name="course1" id=" course1" placeholder="course name"/></label>
			<label><input type="text" name="unit1" id="unit1" value="" placeholder="credit unit"/></label>
			<label><input type="number" name="mark1" id="mark1" value="" placeholder="marks" min="0" max="100"/></label>
			<label><input type="text" name="grade1" id="grade1" value="" list="lists1" placeholder="grade"/></label>

			<!--<datalist id="lists">
				<option value="A+">
				<option value="A">
				<option value="B+">
				<option value="B">
				<option value="C+">
				<option value="C">
				<option value="D">
				<option value="E">
				<option value="F">
			</datalist>-->

			<label><input type="text" name="code" id="score1" value="" placeholder="score"/></label>
		</fieldset>
	</legend>

	<fieldset  >
		<div class="main" style="width: 400px; margin-left: 260px; margin-top: -5px;">
			<input type="reset" value="CLEAR" style="outline: none; "/>
			<input type="submit" name="submitquery" value="CALCULATE" style="outline: none; ">
			CGPA:<input type="text"  id="results" style="width: 140px; height: 25px;">	

		</div>
			

		<!--<input type="text"  id="results" style="width: 70px;">-->
	</fieldset>

	<input type="hidden" name="errors" value="" />
	</form>
</div>

<script>
function formsubmit(){
	var x;
	x=confirm("Calculate CGPA?");
	if (x) {
		calcgpa();
	}
return false;
}

function addbox(x) {

			//var event = document.event.onkeyPress;
			//var key = event.keyCode || event.which;		
				//alert(key);

			if (isNaN(x) ) { alert("Number of courses must be a number"); return}			
			if (x.length > 0 && x!=0 && x<=60 ) {
			var boxes = document.getElementById("boxes");
			boxes.innerHTML="";
			
			var a,b,c,d,e,f,g,z,h,m;
			
				for (m=1; m<=x; m++) {
				a = document.createElement("fieldset"); a.class="fieldset";
				b = document.createElement("label");
				c = document.createTextNode("");
				q = document.createTextNode("");
				d = document.createTextNode("");
				z = document.createTextNode("");
				e = document.createTextNode("");
				
				f = document.createElement("input");
				f.type = "text";
				f.id = f.value = f.name = "course"+m;
				
				g = document.createElement("input");
				g.type = "text";
				g.id = g.value = g.name = "unit"+m;
				
				n = document.createElement("input");
				n.type = "text";
				n.id = n.value = n.name = "mark"+m;
				
				p = document.createElement("input");
				p.type = "text";
				p.id = p.value = p.name = "grade"+m;

				
				
				h = document.createElement("input");
				h.type = "text";
				h.id = h.value = h.name = "score"+m;

				
				
				
				b.appendChild(c); //text to label
				b.appendChild(f); //input(course code) to label
				a.appendChild(b); //label to current fieldset
				
				b.appendChild(d); //text to label
				b.appendChild(g); //input(course unit) to label
				a.appendChild(b); //label to current 
				
				b.appendChild(q); //text to label
				b.appendChild(n); //input(course unit) to label
				a.appendChild(b); //label to current fieldset

				b.appendChild(z); //text to label
				b.appendChild(p); //input(course unit) to label
				a.appendChild(b); //label to current fieldset

				
				
				b.appendChild(e); //text to label
				b.appendChild(h); //input(score) to label
				a.appendChild(b); //label to current fieldset
				
				
				
				boxes.appendChild(a); //current fieldset to legend with id=boxes
				
				
				}	
				
				
				
			}
	
}


function calcgpa() {
		var form = document.getElementById("courseform");
		var i,cgpa,c,s,u,totalUnitsAccumulated=totalUnitsTaken=0;
		var numberOfBoxes = form.box.value;
		if (error(numberOfBoxes)) {
				if (isNaN(numberOfBoxes) || numberOfBoxes.length == 0) { alert("Number of courses must be a number"); return}			
			for (i=1; i <= numberOfBoxes; i++) {
			c = document.getElementById("course"+i).value;
			s = document.getElementById("score"+i).value;
			u = document.getElementById("unit"+i).value;
				totalUnitsAccumulated += scoreInUnitsType5(s,u);
				totalUnitsTaken += Math.floor(u);
			}
		//after getting totalunits accumulated and taken, we compute cgpa
		cgpa = totalUnitsAccumulated / totalUnitsTaken;
		//alert(cgpa);
		document.getElementById('results').value=cgpa;
		
		}
		function error(x) {
			for (i=1; i <= numberOfBoxes; i++) {
			c = document.getElementById("course"+i).value;
			s = document.getElementById("score"+i).value;
			u = document.getElementById("unit"+i).value;
				if ((s > 100) || (s < 0) || isNaN(s)) { alert("Score"+i+" must be a number between 0 and 100"); return false;}
				//if ((s > 100) || (s < 0) || isNaN(s)) { alert("Score"+i+" must be a number between 0 and 100"); return false;}
			}
		return true;
		}
		function scoreInUnitsType5(score,unit) {
		if(score == 5){ return 5*unit;}
		if(score == 4.5){ return 4.5*unit;}
		if(score == 4){ return 4*unit;}
		if(score == 3.5){ return 3.5*unit;}
		if(score == 3){ return 3*unit;}
		if(score == 2.5){ return 2.5*unit;}
		if(score == 2){ return 2*unit;}
		else{ return 0*unit;}
		}
}

</script>
<footer>
	<center>
	  <div style="background-color:blue">
	  <h2 style="color:white">
	  <p>Copyright &copy; 2021 BUSINESS INCUBATION CENTER<br>
	  <a style="color:white" href="developer@bic.com">Developer@Bic.com</a></p></h2>
	  </div>
	</center>
  </footer>
  
</body>
</html>